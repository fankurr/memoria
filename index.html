<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>AR.js Carousel</title>
  <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://aframe.io/releases/1.0.4/aframe.min.js"></script>
    <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar.js"></script>
    <script src="https://raw.githack.com/AR-js-org/studio-backend/master/src/modules/marker/tools/gesture-detector.js"></script>
    <script src="https://raw.githack.com/AR-js-org/studio-backend/master/src/modules/marker/tools/gesture-handler.js"></script>
    
</head>

<body style="margin: 0; overflow: hidden;">
    <a-scene
        vr-mode-ui="enabled: false;"
        loading-screen="enabled: true;"
        arjs="trackingMethod: best; sourceType: webcam; debugUIEnabled: false;"
        id="scene"
        embedded
        gesture-detector
    >
        <a-marker
            id="animated-marker"
            type="pattern"
            preset="custom"
            url="assets/marker/marker.patt"
            raycaster="objects: .clickable"
            emitevents="true"
            cursor="fuse: false; rayOrigin: mouse;"
            id="markerA"
        >
        <div id="carouselExampleIndicators" class="carousel slide" data-ride="carousel">
            <div class="carousel-inner">
                <div class="carousel-item active">
                    <a-image
                        id="imageSlide1"
                        src="assets/image/tesla01.jpeg"
                        scale="1.5 1.5 1.5"
                        class="clickable"
                        rotation="-90 0 0"
                        gesture-handler
                    ></a-image>
                </div>
                <div class="carousel-item">
                    <a-image
                        id="imageSlide2"
                        src="assets/image/tesla02.jpeg"
                        scale="1.5 1.5 1.5"
                        class="clickable"
                        rotation="-90 0 0"
                        gesture-handler
                    ></a-image>
                </div>
                <div class="carousel-item">
                    <a-image
                        id="imageSlide3"
                        src="assets/image/tesla03.jpeg"
                        scale="1.5 1.5 1.5"
                        class="clickable"
                        rotation="-90 0 0"
                        gesture-handler
                    ></a-image>
                </div>
            </div>
            <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                <span class="sr-only">Previous</span>
            </a>
            <a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                <span class="sr-only">Next</span>
            </a>
        </div>
        </a-marker>

        <a-entity camera></a-entity>
    </a-scene>

  <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.4/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
  
  <script>
        document.addEventListener('markerFound', function () {
            var images = ['assets/image/tesla01.jpeg', 'assets/image/tesla02.jpeg', 'assets/image/tesla03.jpeg']; // Daftar foto-foto yang akan ditampilkan
            var currentIndex = 0;
            var imageElement1 = document.getElementById('imageSlide1');
            var imageElement2 = document.getElementById('imageSlide2');
            var imageElement3 = document.getElementById('imageSlide3');

            setInterval(function () {
                imageElement1.setAttribute('src', images[currentIndex]);
                imageElement2.setAttribute('src', images[(currentIndex + 1) % images.length]);
                imageElement3.setAttribute('src', images[(currentIndex + 2) % images.length]);
                currentIndex = (currentIndex + 1) % images.length;
            }, 3000); // Ganti gambar setiap 3 detik
        });
    </script>
</body>
</html>
